Timekeeper helps Java/Groovy test codes to record performance measurement statistics, and to compile reports in Markdown format.

== Motivation

Often I develop Web UI tests in Groovy using Selenium. I wanted to measure the performance of the tests. Often I want to measure:

1. how long (seconds) tests take to navigate to a URL in browser
2. how long tests take to take and save screenshot of a web page
3. how large (bytes) is the generated image file

I want to examine many URLs; 100 or more. In practice, most of URLs respond in 3 seconds but a few of them respond slow (over 20 seconds). Why slow? I need to list the slow URLs up, and find what to do with them.

It is bothersome recording the duration with a stopwatch. It is tiresome to write a statistics report in Markdown table format. I desperately want to automate this task. I want my WebUI tests to perform performance measurement and reporting as well.

== Example

A `Timekeeper` object lets you create **one or more** `Measurement` objects. A `Measurement` object stands for a table which contains a header and one or more `Record` set. A `Record` contains columns and a duration in `mm:ss` format (minutes:seconds). My test will put an instance of `LocalDateTime.now()` just before the test calls a long running method call (such as Selenium navite, and taking screenshot). This timestatmp is recorded as `startAt`. Also my test will put another instance of `LocalDateTime.now()` just after the long-running method call. This timestamp is recorded `endAt`. Each record object can calculate the duration = endAt minus startAt. And finally Timekeeper's `report(Path)` method can generate a text report in Markdown syntax.

=== Example 1 --- minimalistic


=== Example 2 --- Selenium test

Input CSV file is here:

----
include::../src/test/fixtures/URLs.csv[]
----

The test emits the following Markdown text:

[code]
```
include::../build/tmp/testOutput/TimekeeperDemo/report.md[]
```

This Markdown text will be rendered on browser like this:

image::images/report.png[]


The code is here:
----
include::../src/test/groovy/com/kazurayam/timekeeper/demo/TimeKeeperDemo.groovy[]
----

== Download

The artifact is available at the Maven Central repository:

- https://mvnrepository.com/artifact/com.kazurayam/timekeeper

== Dependencies

Timekeeper was tested on Java8.

See link:../build.gradle[build.gradle] for external dependencies.

== API

Javadoc is link:./api/index.html[here]

== Repository

* https://github.com/kazurayam/timekeeper
